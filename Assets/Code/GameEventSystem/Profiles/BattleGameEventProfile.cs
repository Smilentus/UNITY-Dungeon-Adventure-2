using System.Collections.Generic;
using Dimasyechka.Code.BattleSystem;
using UnityEngine;

namespace Dimasyechka.Code.GameEventSystem.Profiles
{
    [CreateAssetMenu(menuName = "Creatable/GameEventSystem/New BattleGameEventProfile", fileName = "New BattleGameEventProfile")]
    public class BattleGameEventProfile : BaseGameEventProfile
    {
        [SerializeField]
        private List<CharacterProfile> m_characters = new List<CharacterProfile>();
        public List<CharacterProfile> Characters => m_characters;


        public BattleGameEventProfile()
        {
            this.m_eventTitle = "Битва";
            this.m_eventDescription = "Небольшое сражение.";
        }


        protected override void OnAutoGenerateNames()
        {
            if (m_characters.Count == 0)
            {
                this.m_eventTitle = "Бой с тенью";
                this.m_eventDescription = $"Воздух вокруг вас содрогнулся.";
            }
            else if (m_characters.Count == 1)
            {
                this.m_eventTitle = "Дуэль";
                this.m_eventDescription = $"Вы вступили в дуэль с '{m_characters[0].Name}'";
            }
            else if (m_characters.Count < 5)
            {
                this.m_eventTitle = "Драка";
                this.m_eventDescription = $"Небольшая драка с {m_characters.Count} противниками";
            }
            else if (m_characters.Count < 15)
            {
                this.m_eventTitle = "Потасовка";
                this.m_eventDescription = $"Вы вступили в небольшую потасовку с {m_characters.Count} противниками!";
            }
            else if (m_characters.Count < 30)
            {
                this.m_eventTitle = "Крупное сражение";
                this.m_eventDescription = $"Вы начали крупное сражение с {m_characters.Count} противниками!";
            }
            else if (m_characters.Count < 50)
            {
                this.m_eventTitle = "Побоище";
                this.m_eventDescription = $"Вы вступили в смертельное побоище с {m_characters.Count} противниками!";
            }
            else if (m_characters.Count > 50)
            {
                this.m_eventTitle = "Легендарная битва";
                this.m_eventDescription = $"Ваша битва будет легендарной! Перед вами {m_characters.Count} противников...";
            }
        }
    }
}
